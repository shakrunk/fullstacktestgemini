<html lang="en" class="scroll-smooth">
  <head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sandscript | The Architecture of Silence</title>

    <!-- Fonts: Lora (Serif) for body, Inter (Sans) for UI -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&amp;display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              sand: {
                50: "#fdfcf8",
                100: "#f9f6ef", // Main bg (Cream)
                200: "#efe8d8", // Bisque
                300: "#e0d3b4", // Tan
                400: "#c2b280", // Sandstone
                500: "#a39060",
                600: "#857248",
                700: "#685739",
                800: "#4b3621", // Dark Coffee (Text)
                900: "#302214",
              },
              ink: "#2c241b",
            },
            fontFamily: {
              serif: ["Lora", "serif"],
              sans: ["Inter", "sans-serif"],
            },
            typography: (theme) => ({
              DEFAULT: {
                css: {
                  color: theme("colors.sand.800"),
                  fontFamily: theme("fontFamily.serif"),
                },
              },
            }),
          },
        },
      };
    </script>

    <style>
      /* Custom Styles for nuances hard to achieve with utility classes only */
      body {
        background-color: #f9f6ef; /* sand-100 */
        color: #4b3621; /* sand-800 */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Scrollbar styling for a cleaner look */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f9f6ef;
      }
      ::-webkit-scrollbar-thumb {
        background: #e0d3b4;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #c2b280;
      }

      /* Sidenote Counters (Tufte style) */
      .sidenote-number {
        counter-increment: sidenote-counter;
      }
      .sidenote-number:after {
        content: counter(sidenote-counter);
        font-family: "Inter", sans-serif;
        font-size: 0.7rem;
        vertical-align: super;
        color: #a39060; /* sand-500 */
        font-weight: 600;
        cursor: pointer;
        margin-left: 2px;
      }

      body {
        counter-reset: sidenote-counter;
      }

      /* Frosted Glass Utilities */
      .frosted-sand {
        background: rgba(249, 246, 239, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-top: 1px solid rgba(255, 255, 255, 0.3);
      }

      /* Syntax Highlighting Base */
      .code-token-keyword {
        color: #857248;
        font-weight: bold;
      }
      .code-token-string {
        color: #685739;
      }
      .code-token-comment {
        color: #a39060;
        font-style: italic;
      }
      .code-token-func {
        color: #4b3621;
        font-weight: bold;
      }

      /* Animation for drawer */
      .drawer-enter {
        transform: translateY(100%);
      }
      .drawer-enter-active {
        transform: translateY(0);
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }
      .drawer-exit {
        transform: translateY(0);
      }
      .drawer-exit-active {
        transform: translateY(100%);
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }
    </style>
    <!--
    "/gen?prompt=minimalist+desert+landscape+with+geometric+shapes+sand+dunes+warm+beige+aesthetic&aspect=16:9"
    "/gen?prompt=abstract+architectural+structure+made+of+sandstone+and+light+shadows&aspect=4:3"
    "/gen?prompt=ancient+manuscript+buried+in+sand+macro+photography+warm+lighting&aspect=3:2"
    "/gen?prompt=surreal+digital+wireframe+landscape+merging+with+real+desert+dunes&aspect=16:9"
    -->
    <style>
      *,
      ::before,
      ::after {
        --tw-border-spacing-x: 0;
        --tw-border-spacing-y: 0;
        --tw-translate-x: 0;
        --tw-translate-y: 0;
        --tw-rotate: 0;
        --tw-skew-x: 0;
        --tw-skew-y: 0;
        --tw-scale-x: 1;
        --tw-scale-y: 1;
        --tw-pan-x: ;
        --tw-pan-y: ;
        --tw-pinch-zoom: ;
        --tw-scroll-snap-strictness: proximity;
        --tw-gradient-from-position: ;
        --tw-gradient-via-position: ;
        --tw-gradient-to-position: ;
        --tw-ordinal: ;
        --tw-slashed-zero: ;
        --tw-numeric-figure: ;
        --tw-numeric-spacing: ;
        --tw-numeric-fraction: ;
        --tw-ring-inset: ;
        --tw-ring-offset-width: 0px;
        --tw-ring-offset-color: #fff;
        --tw-ring-color: rgb(59 130 246 / 0.5);
        --tw-ring-offset-shadow: 0 0 #0000;
        --tw-ring-shadow: 0 0 #0000;
        --tw-shadow: 0 0 #0000;
        --tw-shadow-colored: 0 0 #0000;
        --tw-blur: ;
        --tw-brightness: ;
        --tw-contrast: ;
        --tw-grayscale: ;
        --tw-hue-rotate: ;
        --tw-invert: ;
        --tw-saturate: ;
        --tw-sepia: ;
        --tw-drop-shadow: ;
        --tw-backdrop-blur: ;
        --tw-backdrop-brightness: ;
        --tw-backdrop-contrast: ;
        --tw-backdrop-grayscale: ;
        --tw-backdrop-hue-rotate: ;
        --tw-backdrop-invert: ;
        --tw-backdrop-opacity: ;
        --tw-backdrop-saturate: ;
        --tw-backdrop-sepia: ;
        --tw-contain-size: ;
        --tw-contain-layout: ;
        --tw-contain-paint: ;
        --tw-contain-style: ;
      }
      ::backdrop {
        --tw-border-spacing-x: 0;
        --tw-border-spacing-y: 0;
        --tw-translate-x: 0;
        --tw-translate-y: 0;
        --tw-rotate: 0;
        --tw-skew-x: 0;
        --tw-skew-y: 0;
        --tw-scale-x: 1;
        --tw-scale-y: 1;
        --tw-pan-x: ;
        --tw-pan-y: ;
        --tw-pinch-zoom: ;
        --tw-scroll-snap-strictness: proximity;
        --tw-gradient-from-position: ;
        --tw-gradient-via-position: ;
        --tw-gradient-to-position: ;
        --tw-ordinal: ;
        --tw-slashed-zero: ;
        --tw-numeric-figure: ;
        --tw-numeric-spacing: ;
        --tw-numeric-fraction: ;
        --tw-ring-inset: ;
        --tw-ring-offset-width: 0px;
        --tw-ring-offset-color: #fff;
        --tw-ring-color: rgb(59 130 246 / 0.5);
        --tw-ring-offset-shadow: 0 0 #0000;
        --tw-ring-shadow: 0 0 #0000;
        --tw-shadow: 0 0 #0000;
        --tw-shadow-colored: 0 0 #0000;
        --tw-blur: ;
        --tw-brightness: ;
        --tw-contrast: ;
        --tw-grayscale: ;
        --tw-hue-rotate: ;
        --tw-invert: ;
        --tw-saturate: ;
        --tw-sepia: ;
        --tw-drop-shadow: ;
        --tw-backdrop-blur: ;
        --tw-backdrop-brightness: ;
        --tw-backdrop-contrast: ;
        --tw-backdrop-grayscale: ;
        --tw-backdrop-hue-rotate: ;
        --tw-backdrop-invert: ;
        --tw-backdrop-opacity: ;
        --tw-backdrop-saturate: ;
        --tw-backdrop-sepia: ;
        --tw-contain-size: ;
        --tw-contain-layout: ;
        --tw-contain-paint: ;
        --tw-contain-style: ;
      } /* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */
      *,
      ::after,
      ::before {
        box-sizing: border-box;
        border-width: 0;
        border-style: solid;
        border-color: #e5e7eb;
      }
      ::after,
      ::before {
        --tw-content: "";
      }
      :host,
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        -moz-tab-size: 4;
        tab-size: 4;
        font-family: Inter, sans-serif;
        font-feature-settings: normal;
        font-variation-settings: normal;
        -webkit-tap-highlight-color: transparent;
      }
      body {
        margin: 0;
        line-height: inherit;
      }
      hr {
        height: 0;
        color: inherit;
        border-top-width: 1px;
      }
      abbr:where([title]) {
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }
      a {
        color: inherit;
        text-decoration: inherit;
      }
      b,
      strong {
        font-weight: bolder;
      }
      code,
      kbd,
      pre,
      samp {
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-feature-settings: normal;
        font-variation-settings: normal;
        font-size: 1em;
      }
      small {
        font-size: 80%;
      }
      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }
      sub {
        bottom: -0.25em;
      }
      sup {
        top: -0.5em;
      }
      table {
        text-indent: 0;
        border-color: inherit;
        border-collapse: collapse;
      }
      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-feature-settings: inherit;
        font-variation-settings: inherit;
        font-size: 100%;
        font-weight: inherit;
        line-height: inherit;
        letter-spacing: inherit;
        color: inherit;
        margin: 0;
        padding: 0;
      }
      button,
      select {
        text-transform: none;
      }
      button,
      input:where([type="button"]),
      input:where([type="reset"]),
      input:where([type="submit"]) {
        -webkit-appearance: button;
        background-color: transparent;
        background-image: none;
      }
      :-moz-focusring {
        outline: auto;
      }
      :-moz-ui-invalid {
        box-shadow: none;
      }
      progress {
        vertical-align: baseline;
      }
      ::-webkit-inner-spin-button,
      ::-webkit-outer-spin-button {
        height: auto;
      }
      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }
      ::-webkit-search-decoration {
        -webkit-appearance: none;
      }
      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }
      summary {
        display: list-item;
      }
      blockquote,
      dd,
      dl,
      figure,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      p,
      pre {
        margin: 0;
      }
      fieldset {
        margin: 0;
        padding: 0;
      }
      legend {
        padding: 0;
      }
      menu,
      ol,
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }
      dialog {
        padding: 0;
      }
      textarea {
        resize: vertical;
      }
      input::placeholder,
      textarea::placeholder {
        opacity: 1;
        color: #9ca3af;
      }
      [role="button"],
      button {
        cursor: pointer;
      }
      :disabled {
        cursor: default;
      }
      audio,
      canvas,
      embed,
      iframe,
      img,
      object,
      svg,
      video {
        display: block;
        vertical-align: middle;
      }
      img,
      video {
        max-width: 100%;
        height: auto;
      }
      [hidden]:where(:not([hidden="until-found"])) {
        display: none;
      }
      .fixed {
        position: fixed;
      }
      .absolute {
        position: absolute;
      }
      .relative {
        position: relative;
      }
      .sticky {
        position: sticky;
      }
      .inset-0 {
        inset: 0px;
      }
      .-right-\[320px\] {
        right: -320px;
      }
      .bottom-0 {
        bottom: 0px;
      }
      .bottom-4 {
        bottom: 1rem;
      }
      .left-0 {
        left: 0px;
      }
      .left-4 {
        left: 1rem;
      }
      .top-0 {
        top: 0px;
      }
      .top-24 {
        top: 6rem;
      }
      .z-10 {
        z-index: 10;
      }
      .z-40 {
        z-index: 40;
      }
      .z-50 {
        z-index: 50;
      }
      .float-right {
        float: right;
      }
      .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      .my-10 {
        margin-top: 2.5rem;
        margin-bottom: 2.5rem;
      }
      .my-12 {
        margin-top: 3rem;
        margin-bottom: 3rem;
      }
      .mb-16 {
        margin-bottom: 4rem;
      }
      .mb-2 {
        margin-bottom: 0.5rem;
      }
      .mb-6 {
        margin-bottom: 1.5rem;
      }
      .mb-8 {
        margin-bottom: 2rem;
      }
      .mr-1 {
        margin-right: 0.25rem;
      }
      .mt-16 {
        margin-top: 4rem;
      }
      .mt-24 {
        margin-top: 6rem;
      }
      .mt-4 {
        margin-top: 1rem;
      }
      .mt-8 {
        margin-top: 2rem;
      }
      .-ml-\[2px\] {
        margin-left: -2px;
      }
      .block {
        display: block;
      }
      .inline-block {
        display: inline-block;
      }
      .flex {
        display: flex;
      }
      .grid {
        display: grid;
      }
      .hidden {
        display: none;
      }
      .h-1 {
        height: 0.25rem;
      }
      .h-1\.5 {
        height: 0.375rem;
      }
      .h-10 {
        height: 2.5rem;
      }
      .h-12 {
        height: 3rem;
      }
      .h-64 {
        height: 16rem;
      }
      .h-8 {
        height: 2rem;
      }
      .h-\[50vh\] {
        height: 50vh;
      }
      .h-full {
        height: 100%;
      }
      .h-screen {
        height: 100vh;
      }
      .min-h-screen {
        min-height: 100vh;
      }
      .w-0 {
        width: 0px;
      }
      .w-1\/4 {
        width: 25%;
      }
      .w-10 {
        width: 2.5rem;
      }
      .w-12 {
        width: 3rem;
      }
      .w-64 {
        width: 16rem;
      }
      .w-8 {
        width: 2rem;
      }
      .w-full {
        width: 100%;
      }
      .max-w-2xl {
        max-width: 42rem;
      }
      .max-w-4xl {
        max-width: 56rem;
      }
      .max-w-\[1600px\] {
        max-width: 1600px;
      }
      .flex-1 {
        flex: 1 1 0%;
      }
      .flex-shrink-0 {
        flex-shrink: 0;
      }
      .translate-y-0 {
        --tw-translate-y: 0px;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      .translate-y-full {
        --tw-translate-y: 100%;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      .transform {
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      .cursor-zoom-in {
        cursor: zoom-in;
      }
      .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }
      .flex-col {
        flex-direction: column;
      }
      .items-start {
        align-items: flex-start;
      }
      .items-center {
        align-items: center;
      }
      .justify-end {
        justify-content: flex-end;
      }
      .justify-center {
        justify-content: center;
      }
      .justify-between {
        justify-content: space-between;
      }
      .gap-4 {
        gap: 1rem;
      }
      .space-x-1 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(0.25rem * var(--tw-space-x-reverse));
        margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));
      }
      .space-x-3 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(0.75rem * var(--tw-space-x-reverse));
        margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));
      }
      .space-x-4 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(1rem * var(--tw-space-x-reverse));
        margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));
      }
      .space-x-6 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-x-reverse: 0;
        margin-right: calc(1.5rem * var(--tw-space-x-reverse));
        margin-left: calc(1.5rem * calc(1 - var(--tw-space-x-reverse)));
      }
      .space-y-4 > :not([hidden]) ~ :not([hidden]) {
        --tw-space-y-reverse: 0;
        margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
        margin-bottom: calc(1rem * var(--tw-space-y-reverse));
      }
      .overflow-hidden {
        overflow: hidden;
      }
      .overflow-x-auto {
        overflow-x: auto;
      }
      .overflow-x-hidden {
        overflow-x: hidden;
      }
      .scroll-smooth {
        scroll-behavior: smooth;
      }
      .rounded {
        border-radius: 0.25rem;
      }
      .rounded-full {
        border-radius: 9999px;
      }
      .rounded-lg {
        border-radius: 0.5rem;
      }
      .rounded-sm {
        border-radius: 0.125rem;
      }
      .rounded-t-2xl {
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
      }
      .border {
        border-width: 1px;
      }
      .border-b {
        border-bottom-width: 1px;
      }
      .border-l-2 {
        border-left-width: 2px;
      }
      .border-r {
        border-right-width: 1px;
      }
      .border-t {
        border-top-width: 1px;
      }
      .border-sand-200 {
        --tw-border-opacity: 1;
        border-color: rgb(239 232 216 / var(--tw-border-opacity, 1));
      }
      .border-sand-300 {
        --tw-border-opacity: 1;
        border-color: rgb(224 211 180 / var(--tw-border-opacity, 1));
      }
      .border-transparent {
        border-color: transparent;
      }
      .border-sand-800 {
        --tw-border-opacity: 1;
        border-color: rgb(75 54 33 / var(--tw-border-opacity, 1));
      }
      .bg-\[\#f9f6ef\] {
        --tw-bg-opacity: 1;
        background-color: rgb(249 246 239 / var(--tw-bg-opacity, 1));
      }
      .bg-black\/20 {
        background-color: rgb(0 0 0 / 0.2);
      }
      .bg-sand-200 {
        --tw-bg-opacity: 1;
        background-color: rgb(239 232 216 / var(--tw-bg-opacity, 1));
      }
      .bg-sand-200\/40 {
        background-color: rgb(239 232 216 / 0.4);
      }
      .bg-sand-200\/50 {
        background-color: rgb(239 232 216 / 0.5);
      }
      .bg-sand-300 {
        --tw-bg-opacity: 1;
        background-color: rgb(224 211 180 / var(--tw-bg-opacity, 1));
      }
      .bg-sand-500 {
        --tw-bg-opacity: 1;
        background-color: rgb(163 144 96 / var(--tw-bg-opacity, 1));
      }
      .bg-sand-800 {
        --tw-bg-opacity: 1;
        background-color: rgb(75 54 33 / var(--tw-bg-opacity, 1));
      }
      .bg-sand-900\/30 {
        background-color: rgb(48 34 20 / 0.3);
      }
      .object-cover {
        object-fit: cover;
      }
      .p-6 {
        padding: 1.5rem;
      }
      .p-8 {
        padding: 2rem;
      }
      .px-3 {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }
      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      .px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }
      .py-1 {
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
      }
      .py-2 {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
      }
      .py-3 {
        padding-top: 0.75rem;
        padding-bottom: 0.75rem;
      }
      .pb-12 {
        padding-bottom: 3rem;
      }
      .pb-32 {
        padding-bottom: 8rem;
      }
      .pl-3 {
        padding-left: 0.75rem;
      }
      .pl-4 {
        padding-left: 1rem;
      }
      .pt-12 {
        padding-top: 3rem;
      }
      .pt-24 {
        padding-top: 6rem;
      }
      .text-left {
        text-align: left;
      }
      .text-center {
        text-align: center;
      }
      .font-mono {
        font-family:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      .font-sans {
        font-family: Inter, sans-serif;
      }
      .font-serif {
        font-family: Lora, serif;
      }
      .text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
      }
      .text-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
      }
      .text-4xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
      }
      .text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
      }
      .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }
      .text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
      }
      .text-xs {
        font-size: 0.75rem;
        line-height: 1rem;
      }
      .font-bold {
        font-weight: 700;
      }
      .font-medium {
        font-weight: 500;
      }
      .font-semibold {
        font-weight: 600;
      }
      .uppercase {
        text-transform: uppercase;
      }
      .italic {
        font-style: italic;
      }
      .leading-relaxed {
        line-height: 1.625;
      }
      .leading-snug {
        line-height: 1.375;
      }
      .leading-tight {
        line-height: 1.25;
      }
      .tracking-wider {
        letter-spacing: 0.05em;
      }
      .tracking-widest {
        letter-spacing: 0.1em;
      }
      .text-sand-100 {
        --tw-text-opacity: 1;
        color: rgb(249 246 239 / var(--tw-text-opacity, 1));
      }
      .text-sand-400 {
        --tw-text-opacity: 1;
        color: rgb(194 178 128 / var(--tw-text-opacity, 1));
      }
      .text-sand-50 {
        --tw-text-opacity: 1;
        color: rgb(253 252 248 / var(--tw-text-opacity, 1));
      }
      .text-sand-500 {
        --tw-text-opacity: 1;
        color: rgb(163 144 96 / var(--tw-text-opacity, 1));
      }
      .text-sand-600 {
        --tw-text-opacity: 1;
        color: rgb(133 114 72 / var(--tw-text-opacity, 1));
      }
      .text-sand-700 {
        --tw-text-opacity: 1;
        color: rgb(104 87 57 / var(--tw-text-opacity, 1));
      }
      .text-sand-800 {
        --tw-text-opacity: 1;
        color: rgb(75 54 33 / var(--tw-text-opacity, 1));
      }
      .text-sand-900 {
        --tw-text-opacity: 1;
        color: rgb(48 34 20 / var(--tw-text-opacity, 1));
      }
      .text-white\/80 {
        color: rgb(255 255 255 / 0.8);
      }
      .opacity-0 {
        opacity: 0;
      }
      .opacity-80 {
        opacity: 0.8;
      }
      .shadow-\[0_-10px_40px_rgba\(0\2c 0\2c 0\2c 0\.1\)\] {
        --tw-shadow: 0 -10px 40px rgba(0, 0, 0, 0.1);
        --tw-shadow-colored: 0 -10px 40px var(--tw-shadow-color);
        box-shadow:
          var(--tw-ring-offset-shadow, 0 0 #0000),
          var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
      }
      .shadow-inner {
        --tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
        --tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);
        box-shadow:
          var(--tw-ring-offset-shadow, 0 0 #0000),
          var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
      }
      .shadow-lg {
        --tw-shadow:
          0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --tw-shadow-colored:
          0 10px 15px -3px var(--tw-shadow-color),
          0 4px 6px -4px var(--tw-shadow-color);
        box-shadow:
          var(--tw-ring-offset-shadow, 0 0 #0000),
          var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
      }
      .shadow-xl {
        --tw-shadow:
          0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        --tw-shadow-colored:
          0 20px 25px -5px var(--tw-shadow-color),
          0 8px 10px -6px var(--tw-shadow-color);
        box-shadow:
          var(--tw-ring-offset-shadow, 0 0 #0000),
          var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
      }
      .shadow-sand-300\/50 {
        --tw-shadow-color: rgb(224 211 180 / 0.5);
        --tw-shadow: var(--tw-shadow-colored);
      }
      .backdrop-blur-sm {
        --tw-backdrop-blur: blur(4px);
        -webkit-backdrop-filter: var(--tw-backdrop-blur)
          var(--tw-backdrop-brightness) var(--tw-backdrop-contrast)
          var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate)
          var(--tw-backdrop-invert) var(--tw-backdrop-opacity)
          var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
        backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness)
          var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale)
          var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert)
          var(--tw-backdrop-opacity) var(--tw-backdrop-saturate)
          var(--tw-backdrop-sepia);
      }
      .transition-all {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .transition-colors {
        transition-property:
          color,
          background-color,
          border-color,
          fill,
          stroke,
          -webkit-text-decoration-color;
        transition-property:
          color, background-color, border-color, text-decoration-color, fill,
          stroke;
        transition-property:
          color,
          background-color,
          border-color,
          text-decoration-color,
          fill,
          stroke,
          -webkit-text-decoration-color;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .transition-opacity {
        transition-property: opacity;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .transition-transform {
        transition-property: transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .duration-1000 {
        transition-duration: 1000ms;
      }
      .duration-150 {
        transition-duration: 150ms;
      }
      .duration-300 {
        transition-duration: 300ms;
      }
      .duration-500 {
        transition-duration: 500ms;
      }
      .duration-700 {
        transition-duration: 700ms;
      }
      .ease-out {
        transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
      }
      .first-letter\:float-left::first-letter {
        float: left;
      }
      .first-letter\:mr-2::first-letter {
        margin-right: 0.5rem;
      }
      .first-letter\:font-serif::first-letter {
        font-family: Lora, serif;
      }
      .first-letter\:text-5xl::first-letter {
        font-size: 3rem;
        line-height: 1;
      }
      .first-letter\:text-sand-900::first-letter {
        --tw-text-opacity: 1;
        color: rgb(48 34 20 / var(--tw-text-opacity, 1));
      }
      .selection\:bg-sand-300 *::selection {
        --tw-bg-opacity: 1;
        background-color: rgb(224 211 180 / var(--tw-bg-opacity, 1));
      }
      .selection\:text-sand-900 *::selection {
        --tw-text-opacity: 1;
        color: rgb(48 34 20 / var(--tw-text-opacity, 1));
      }
      .selection\:bg-sand-300::selection {
        --tw-bg-opacity: 1;
        background-color: rgb(224 211 180 / var(--tw-bg-opacity, 1));
      }
      .selection\:text-sand-900::selection {
        --tw-text-opacity: 1;
        color: rgb(48 34 20 / var(--tw-text-opacity, 1));
      }
      .hover\:border-sand-500:hover {
        --tw-border-opacity: 1;
        border-color: rgb(163 144 96 / var(--tw-border-opacity, 1));
      }
      .hover\:bg-sand-700:hover {
        --tw-bg-opacity: 1;
        background-color: rgb(104 87 57 / var(--tw-bg-opacity, 1));
      }
      .hover\:text-sand-600:hover {
        --tw-text-opacity: 1;
        color: rgb(133 114 72 / var(--tw-text-opacity, 1));
      }
      .hover\:text-sand-900:hover {
        --tw-text-opacity: 1;
        color: rgb(48 34 20 / var(--tw-text-opacity, 1));
      }
      .hover\:text-sand-800:hover {
        --tw-text-opacity: 1;
        color: rgb(75 54 33 / var(--tw-text-opacity, 1));
      }
      .hover\:opacity-100:hover {
        opacity: 1;
      }
      .group:hover .group-hover\:scale-\[1\.01\] {
        --tw-scale-x: 1.01;
        --tw-scale-y: 1.01;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      @media (min-width: 640px) {
        .sm\:block {
          display: block;
        }
        .sm\:hidden {
          display: none;
        }
      }
      @media (min-width: 768px) {
        .md\:left-12 {
          left: 3rem;
        }
        .md\:ml-8 {
          margin-left: 2rem;
        }
        .md\:flex {
          display: flex;
        }
        .md\:h-\[70vh\] {
          height: 70vh;
        }
        .md\:w-1\/2 {
          width: 50%;
        }
        .md\:grid-cols-2 {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .md\:justify-center {
          justify-content: center;
        }
        .md\:px-12 {
          padding-left: 3rem;
          padding-right: 3rem;
        }
        .md\:text-5xl {
          font-size: 3rem;
          line-height: 1;
        }
        .md\:text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
      }
      @media (min-width: 1024px) {
        .lg\:mx-0 {
          margin-left: 0px;
          margin-right: 0px;
        }
        .lg\:ml-0 {
          margin-left: 0px;
        }
        .lg\:mr-auto {
          margin-right: auto;
        }
        .lg\:block {
          display: block;
        }
        .lg\:hidden {
          display: none;
        }
        .lg\:flex-row {
          flex-direction: row;
        }
        .lg\:justify-start {
          justify-content: flex-start;
        }
        .lg\:px-24 {
          padding-left: 6rem;
          padding-right: 6rem;
        }
        .lg\:text-left {
          text-align: left;
        }
        .lg\:text-6xl {
          font-size: 3.75rem;
          line-height: 1;
        }
      }
      @media (min-width: 1280px) {
        .xl\:block {
          display: block;
        }
        .xl\:max-w-3xl {
          max-width: 48rem;
        }
      }
    </style>
    <link
      type="text/css"
      href="https://fonts.googleapis.com/css2?family=Google+Symbols:opsz,wght,FILL,GRAD,ROND@24,400,0,0,50&amp;icon_names=link"
      rel="stylesheet"
    />
    <style id="dyn-img-link-styles-di-script">
      .dyn-img-link-wrapper-di-script {
        anchor-scope: all;
        display: contents;
        position: relative;
        z-index: 1;
      }

      .dyn-img-link-wrapper-di-script img {
        anchor-name: --photo;
        display: block;
        max-width: 100%;
      }

      .dyn-img-link-di-script {
        z-index: 999999;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        color: white;
        height: clamp(
          13px,
          calc(max(anchor-size(width), anchor-size(height)) * 0.3),
          21px
        );
        width: clamp(
          13px,
          calc(max(anchor-size(width), anchor-size(height)) * 0.3),
          21px
        );
        padding: 4px;
        position: absolute;

        bottom: anchor(bottom);
        left: anchor(left);
        margin-left: 10px;
        margin-bottom: 10px;

        transition: background-color 0.2s ease-in-out;
      }

      .dyn-img-link-di-script:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }

      .dyn-img-link-di-script span {
        font-size: 14px;
        vertical-align: top;
      }

      .dyn-img-attribution-button-di-script {
        z-index: 999999;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        color: white;
        width: clamp(
          13px,
          calc(max(anchor-size(width), anchor-size(height)) * 0.3),
          21px
        );
        height: clamp(
          13px,
          calc(max(anchor-size(width), anchor-size(height)) * 0.3),
          21px
        );
        padding: 4px;

        position: absolute;
        position-anchor: --photo;
        top: anchor(top);
        right: anchor(right);
        margin-top: 10px;
        margin-right: 10px;

        transition: background-color 0.2s ease-in-out;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .dyn-img-attribution-button-di-script:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }

      .dyn-img-attribution-button-di-script span {
        font-size: 14px;
        vertical-align: top;
      }

      .dyn-img-inline-attribution-di-script {
        z-index: 999999;
        font-size: 12px;
        padding: 4px;
        display: none;

        position: absolute;
        position-anchor: --photo;
        bottom: anchor(bottom);
        right: anchor(right);
        margin-bottom: 8px;
        margin-right: 8px;

        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: right;

        white-space: nowrap;
        background-color: rgba(0, 0, 0, 0.8);
        border-radius: 9999px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        color: white;
      }
    </style>
  </head>
  <body class="selection:bg-sand-300 selection:text-sand-900 overflow-x-hidden">
    <!-- Mobile Progress Bar (Top) -->
    <div class="fixed top-0 left-0 w-full h-1 bg-sand-200 z-50 lg:hidden">
      <div
        id="mobile-progress"
        class="h-full bg-sand-500 w-0 transition-all duration-150"
        style="width: 35.5897%"
      ></div>
    </div>

    <!-- Main Layout Grid -->
    <div
      class="relative min-h-screen flex flex-col lg:flex-row max-w-[1600px] mx-auto"
    >
      <!-- Sidebar / Mini-map (Desktop) -->
      <nav
        class="hidden lg:block w-64 h-screen sticky top-0 border-r border-sand-200 p-8 flex flex-col justify-between z-10"
      >
        <div>
          <div
            class="font-sans font-bold text-sand-900 tracking-widest uppercase text-xs mb-8"
          >
            Sandscript
          </div>
          <ul
            class="space-y-4 font-sans text-sm text-sand-500"
            id="desktop-toc"
          >
            <!-- Populated by JS -->
          </ul>
        </div>
        <div class="text-xs font-sans text-sand-400">© 2024 Editorial</div>
      </nav>

      <!-- Main Content Area -->
      <main class="flex-1 w-full relative">
        <!-- Article Header -->
        <header
          class="pt-24 pb-12 px-6 md:px-12 lg:px-24 max-w-4xl mx-auto text-center lg:text-left"
        >
          <span
            class="inline-block py-1 px-3 rounded-full border border-sand-300 bg-sand-200/50 text-sand-600 text-xs font-sans font-medium mb-6 uppercase tracking-wider"
          >
            Long Form • 12 min read
          </span>
          <h1
            class="text-4xl md:text-5xl lg:text-6xl font-serif font-medium text-sand-900 leading-tight mb-6"
          >
            The Architecture of Silence
          </h1>
          <p
            class="text-xl text-sand-600 font-serif italic max-w-2xl lg:mx-0 mx-auto"
          >
            How desert spaces shape human thought, and why the modern mind is
            desperate for a void it cannot fill.
          </p>

          <!-- Author Block -->
          <div
            class="mt-8 flex items-center justify-center lg:justify-start space-x-4"
          >
            <div
              class="w-10 h-10 rounded-full bg-sand-300 flex items-center justify-center text-sand-700 font-serif font-bold"
            >
              E
            </div>
            <div class="text-left">
              <p class="font-sans text-sm font-semibold text-sand-900">
                Elena Vance
              </p>
              <p class="font-sans text-xs text-sand-500">Architecture Critic</p>
            </div>
          </div>
        </header>

        <!-- Hero Image (Full Bleed) -->
        <figure class="w-full mb-16 relative group cursor-zoom-in">
          <img
            src="image1.png"
            alt="Minimalist desert landscape"
            class="w-full h-[50vh] md:h-[70vh] object-cover transition-transform duration-700 group-hover:scale-[1.01]"
            style=""
          />
          <figcaption
            class="absolute bottom-4 left-4 md:left-12 text-white/80 font-sans text-xs bg-black/20 backdrop-blur-sm px-3 py-1 rounded"
          >
            Fig 1. The visual quietude of the Mojave.
          </figcaption>
        </figure>

        <!-- Article Body -->
        <article class="px-6 md:px-12 lg:px-24 pb-32">
          <!-- Introduction -->
          <section
            id="introduction"
            class="content-section relative max-w-2xl mx-auto lg:ml-0 lg:mr-auto xl:max-w-3xl"
          >
            <p
              class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8 first-letter:text-5xl first-letter:font-serif first-letter:mr-2 first-letter:float-left first-letter:text-sand-900"
            >
              There is a specific frequency of silence found only in the deep
              desert. It is not merely the absence of noise, but a physical
              weight—a pressure that presses against the eardrums and forces the
              internal monologue to either scream or dissolve. Architects have
              spent centuries trying to replicate this.
              <span
                class="sidenote-trigger sidenote-number"
                data-note-id="1"
              ></span>
            </p>
            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              In our hyper-connected cities, silence is a luxury commodity. We
              buy noise-canceling headphones, we pay for meditation retreats in
              soundproofed rooms, yet we rarely encounter the raw, unfiltered
              emptiness that the desert offers for free. The architecture of
              silence is not about building walls to keep sound out, but about
              creating spaces where sound simply has no reason to exist.
            </p>

            <!-- Desktop Sidenote (Absolute) -->
            <aside
              class="hidden xl:block absolute top-0 -right-[320px] w-64 text-sm text-sand-600 font-sans leading-snug border-l-2 border-sand-300 pl-4 transition-opacity duration-500 opacity-80 hover:opacity-100 hover:border-sand-500"
            >
              <span class="font-bold text-sand-800 mr-1">1.</span> Le Corbusier
              famously described the desert as "a place where the geometry of
              the mind meets the geometry of the earth," influencing his Chapel
              of Notre Dame du Haut.
            </aside>
          </section>

          <!-- Section 2: The Acoustic Horizon -->
          <section
            id="acoustic-horizon"
            class="content-section relative max-w-2xl mx-auto lg:ml-0 lg:mr-auto xl:max-w-3xl mt-16"
          >
            <h2 class="text-3xl font-serif font-medium text-sand-900 mb-6">
              The Acoustic Horizon
            </h2>

            <div class="float-right md:ml-8 mb-8 w-full md:w-1/2">
              <img
                src="image2.png"
                class="rounded-sm shadow-xl shadow-sand-300/50 mb-2 w-full"
                style=""
              />
              <p
                class="font-sans text-xs text-sand-500 italic border-l-2 border-sand-300 pl-3"
              >
                Fig 2. Structural resonance.
              </p>
            </div>

            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              To understand desert architecture, one must understand the
              "acoustic horizon." In a forest, sound is dampened by biomass. In
              a city, it reverberates off concrete. In the desert, sound travels
              until it is exhausted.
              <span
                class="sidenote-trigger sidenote-number"
                data-note-id="2"
              ></span>
            </p>
            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              This lack of acoustic return creates a sense of vulnerability.
              Ancient structures like the Petra Treasury or the mud-brick
              mosques of Mali were designed not just as shelters from the sun,
              but as acoustic anchors—places where the human voice could find
              purchase and return to the speaker, confirming their existence.
            </p>

            <!-- Desktop Sidenote -->
            <aside
              class="hidden xl:block absolute top-24 -right-[320px] w-64 text-sm text-sand-600 font-sans leading-snug border-l-2 border-sand-300 pl-4"
            >
              <span class="font-bold text-sand-800 mr-1">2.</span> Acoustic
              ecologists measure this as "reverberation time." The desert has a
              near-infinite visual horizon but a surprisingly intimate acoustic
              one due to thermal gradients refracting sound waves upwards.
            </aside>
          </section>

          <!-- Section 3: Code of the Void -->
          <section
            id="code-void"
            class="content-section relative max-w-2xl mx-auto lg:ml-0 lg:mr-auto xl:max-w-3xl mt-16"
          >
            <h2 class="text-3xl font-serif font-medium text-sand-900 mb-6">
              The Code of the Void
            </h2>
            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              Modern architects are now using algorithms to simulate organic
              silence. By modeling the stochastic distribution of sand grains,
              we can design acoustic panels that scatter sound naturally rather
              than absorbing it artificially.
            </p>

            <!-- Interactive Code Block -->
            <div
              class="my-10 bg-sand-200/40 border border-sand-300 rounded-lg overflow-hidden font-mono text-sm shadow-inner"
            >
              <div
                class="flex justify-between items-center bg-sand-200 px-4 py-2 border-b border-sand-300"
              >
                <span
                  class="text-sand-600 text-xs uppercase tracking-wider font-bold"
                  >Python: acoustic_scatter.py</span
                >
                <button
                  onclick="copyCode(this)"
                  class="flex items-center space-x-1 text-sand-600 hover:text-sand-900 transition-colors"
                >
                  <span class="material-symbols-outlined text-sm"
                    >content_copy</span
                  >
                  <span class="text-xs font-sans uppercase font-bold"
                    >Copy Plaintext</span
                  >
                </button>
              </div>
              <div class="overflow-x-auto p-6">
                <pre><code><span class="code-token-keyword">import</span> numpy <span class="code-token-keyword">as</span> np
<span class="code-token-keyword">import</span> matplotlib.pyplot <span class="code-token-keyword">as</span> plt

<span class="code-token-keyword">def</span> <span class="code-token-func">simulate_dune_scatter</span>(resolution=<span class="code-token-string">1024</span>):
    <span class="code-token-comment"># Generate Perlin-like noise for surface irregularity</span>
    x = np.linspace(0, 100, resolution)
    noise = np.sin(x) * np.random.normal(0, 0.2, resolution)

    <span class="code-token-comment"># Calculate acoustic reflection coefficients</span>
    reflection = 1 / (1 + np.exp(-noise))

    <span class="code-token-keyword">return</span> reflection

<span class="code-token-comment"># The resulting array maps the 'quiet zones' of a theoretical room</span>
silence_map = simulate_dune_scatter()</code></pre>
              </div>
            </div>
          </section>

          <!-- Section 4: Mirage & Memory -->
          <section
            id="mirage-memory"
            class="content-section relative max-w-2xl mx-auto lg:ml-0 lg:mr-auto xl:max-w-3xl mt-16"
          >
            <h2 class="text-3xl font-serif font-medium text-sand-900 mb-6">
              Mirage &amp; Memory
            </h2>
            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              The ultimate architectural feature of the desert is the mirage. It
              is an architecture of light and heat, building cities that do not
              exist. In a way, this is the purest form of design: structure
              without material, existence without mass.
              <span
                class="sidenote-trigger sidenote-number"
                data-note-id="3"
              ></span>
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-12">
              <img
                src="image3.png"
                class="rounded-sm object-cover h-64 w-full"
                style=""
              />
              <img
                src="image4.png"
                class="rounded-sm object-cover h-64 w-full"
                style=""
              />
            </div>

            <p class="text-lg md:text-xl leading-relaxed text-sand-800 mb-8">
              We build our digital lives in a similar fashion. The "cloud" is a
              desert of servers, hot and dry, storing the memories of a
              civilization that is increasingly forgetting how to remember
              things biologically.
            </p>

            <!-- Desktop Sidenote -->
            <aside
              class="hidden xl:block absolute top-0 -right-[320px] w-64 text-sm text-sand-600 font-sans leading-snug border-l-2 border-sand-300 pl-4"
            >
              <span class="font-bold text-sand-800 mr-1">3.</span> The physics
              of a mirage relies on a steep thermal gradient. Light bends
              towards the cooler air, effectively acting as a lens—a natural
              telescope showing us things beyond the curve of the earth, or
              simply the sky reflected on the ground.
            </aside>
          </section>

          <!-- Footer area of article -->
          <div class="mt-24 pt-12 border-t border-sand-300 text-center">
            <span class="text-3xl font-serif text-sand-400">❧</span>
            <p
              class="mt-4 font-sans text-sm text-sand-500 uppercase tracking-widest"
            >
              End of Article
            </p>
          </div>
        </article>
      </main>
    </div>

    <!-- Persistent Audio Player (Glassmorphism) -->
    <div
      id="audio-player"
      class="fixed bottom-0 left-0 w-full frosted-sand z-40 transition-transform duration-300 translate-y-0"
    >
      <div
        class="max-w-[1600px] mx-auto px-6 py-3 flex items-center justify-between"
      >
        <!-- Info -->
        <div class="flex items-center space-x-4">
          <div
            class="w-10 h-10 bg-sand-800 rounded flex items-center justify-center text-sand-100"
          >
            <span class="material-symbols-outlined text-xl">graphic_eq</span>
          </div>
          <div class="hidden sm:block">
            <p
              class="text-xs font-sans font-bold text-sand-900 uppercase tracking-wider"
            >
              Audio Companion
            </p>
            <p class="text-sm font-serif text-sand-700 italic">
              The Architecture of Silence • Read by Author
            </p>
          </div>
        </div>

        <!-- Controls -->
        <div
          class="flex items-center space-x-6 flex-1 justify-end md:justify-center md:px-12"
        >
          <button class="text-sand-800 hover:text-sand-600 transition-colors">
            <span class="material-symbols-outlined text-2xl"
              >skip_previous</span
            >
          </button>
          <button
            id="play-pause-btn"
            class="w-12 h-12 rounded-full bg-sand-800 text-sand-50 flex items-center justify-center hover:bg-sand-700 transition-colors shadow-lg shadow-sand-300/50"
          >
            <span class="material-symbols-outlined text-3xl" id="play-icon"
              >play_arrow</span
            >
          </button>
          <button class="text-sand-800 hover:text-sand-600 transition-colors">
            <span class="material-symbols-outlined text-2xl">skip_next</span>
          </button>
        </div>

        <!-- Progress (Hidden on mobile small) -->
        <div class="hidden md:flex items-center space-x-3 w-1/4">
          <span id="current-time" class="text-xs font-mono text-sand-600"
            >00:00</span
          >
          <div class="flex-1 h-1 bg-sand-300 rounded-full overflow-hidden">
            <div
              id="audio-progress-bar"
              class="h-full bg-sand-800 w-0 transition-all duration-1000"
            ></div>
          </div>
          <span class="text-xs font-mono text-sand-600">14:20</span>
        </div>

        <!-- Mobile Toggle for Drawer (only for mobile alignment reference) -->
        <div class="w-10 sm:hidden"></div>
      </div>
    </div>

    <!-- Mobile Sidenote Drawer (Overlay) -->
    <div id="mobile-sidenote-drawer" class="fixed inset-0 z-50 hidden">
      <!-- Backdrop -->
      <div
        id="drawer-backdrop"
        class="absolute inset-0 bg-sand-900/30 backdrop-blur-sm transition-opacity opacity-0"
      ></div>

      <!-- Sheet -->
      <div
        id="drawer-content"
        class="absolute bottom-0 left-0 w-full bg-[#f9f6ef] rounded-t-2xl p-8 shadow-[0_-10px_40px_rgba(0,0,0,0.1)] transform transition-transform duration-300 ease-out translate-y-full"
      >
        <div class="w-12 h-1.5 bg-sand-300 rounded-full mx-auto mb-6"></div>
        <div class="flex items-start space-x-4">
          <span
            id="drawer-number"
            class="flex-shrink-0 w-8 h-8 rounded-full bg-sand-200 text-sand-800 font-serif font-bold flex items-center justify-center text-sm border border-sand-300"
            >1</span
          >
          <p
            id="drawer-text"
            class="text-sand-800 font-serif text-lg leading-relaxed"
          >
            Le Corbusier famously described the desert as "a place where the
            geometry of the mind meets the geometry of the earth," influencing
            his Chapel of Notre Dame du Haut.
          </p>
        </div>
        <button
          id="close-drawer"
          class="mt-8 w-full py-3 bg-sand-800 text-sand-50 font-sans font-medium rounded-lg hover:bg-sand-700 transition-colors uppercase text-sm tracking-wider"
        >
          Close Note
        </button>
      </div>
    </div>

    <!-- Data for JS -->
    <script>
      const sidenoteData = {
        1: 'Le Corbusier famously described the desert as "a place where the geometry of the mind meets the geometry of the earth," influencing his Chapel of Notre Dame du Haut.',
        2: 'Acoustic ecologists measure this as "reverberation time." The desert has a near-infinite visual horizon but a surprisingly intimate acoustic one due to thermal gradients refracting sound waves upwards.',
        3: "The physics of a mirage relies on a steep thermal gradient. Light bends towards the cooler air, effectively acting as a lens—a natural telescope showing us things beyond the curve of the earth, or simply the sky reflected on the ground.",
      };
    </script>

    <script>
      // --- 1. Mini-Map & Scroll Logic ---
      document.addEventListener("DOMContentLoaded", () => {
        const sections = document.querySelectorAll("section[id]");
        const tocList = document.getElementById("desktop-toc");
        const mobileProgress = document.getElementById("mobile-progress");

        // Build TOC dynamically
        sections.forEach((section) => {
          const title = section.querySelector("h2")
            ? section.querySelector("h2").innerText
            : "Introduction";
          const li = document.createElement("li");
          li.innerHTML = `<a href="#${section.id}" class="hover:text-sand-800 transition-colors block py-1 border-l-2 border-transparent pl-3 -ml-[2px] toc-link" data-target="${section.id}">${title}</a>`;
          tocList.appendChild(li);
        });

        const tocLinks = document.querySelectorAll(".toc-link");

        // Scroll Observer
        window.addEventListener("scroll", () => {
          const scrollY = window.scrollY;
          const windowHeight = window.innerHeight;
          const docHeight = document.documentElement.scrollHeight;

          // Update Mobile Progress
          const percent = (scrollY / (docHeight - windowHeight)) * 100;
          mobileProgress.style.width = `${percent}%`;

          // Update Active Section in Mini-map
          let current = "";
          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= sectionTop - windowHeight / 3) {
              current = section.id;
            }
          });

          tocLinks.forEach((link) => {
            link.classList.remove(
              "text-sand-900",
              "font-semibold",
              "border-sand-800",
            );
            link.classList.add("border-transparent");
            if (link.getAttribute("data-target") === current) {
              link.classList.add(
                "text-sand-900",
                "font-semibold",
                "border-sand-800",
              );
              link.classList.remove("border-transparent");
            }
          });
        });
      });

      // --- 2. Sidenote Logic (Responsive) ---
      const triggers = document.querySelectorAll(".sidenote-trigger");
      const drawer = document.getElementById("mobile-sidenote-drawer");
      const drawerContent = document.getElementById("drawer-content");
      const drawerBackdrop = document.getElementById("drawer-backdrop");
      const drawerText = document.getElementById("drawer-text");
      const drawerNumber = document.getElementById("drawer-number");
      const closeDrawerBtn = document.getElementById("close-drawer");

      // Add index class for CSS counters
      triggers.forEach((trigger, index) => {
        trigger.classList.add("sidenote-number");
        trigger.addEventListener("click", (e) => {
          // Only open drawer on mobile/tablet (check if drawer hidden logic matches visual intent)
          // We check window width to see if we should show the drawer or scroll to the note
          if (window.innerWidth < 1280) {
            // xl breakpoint
            const id = trigger.getAttribute("data-note-id");
            openDrawer(id, index + 1);
          } else {
            // Desktop: flash the corresponding aside note
            // Note: In a real app we might scroll to it, but here it's right there.
          }
        });
      });

      function openDrawer(id, number) {
        drawerText.innerText = sidenoteData[id];
        drawerNumber.innerText = number;
        drawer.classList.remove("hidden");

        // Animation frame for transition
        requestAnimationFrame(() => {
          drawerBackdrop.classList.remove("opacity-0");
          drawerContent.classList.remove("translate-y-full");
        });
      }

      function closeDrawer() {
        drawerBackdrop.classList.add("opacity-0");
        drawerContent.classList.add("translate-y-full");

        setTimeout(() => {
          drawer.classList.add("hidden");
        }, 300);
      }

      closeDrawerBtn.addEventListener("click", closeDrawer);
      drawerBackdrop.addEventListener("click", closeDrawer);

      // --- 3. Audio Player Logic ---
      const playPauseBtn = document.getElementById("play-pause-btn");
      const playIcon = document.getElementById("play-icon");
      const progressBar = document.getElementById("audio-progress-bar");
      const currentTimeEl = document.getElementById("current-time");

      let isPlaying = false;
      let progress = 0; // percentage
      let timerInterval;
      let seconds = 0;

      playPauseBtn.addEventListener("click", () => {
        isPlaying = !isPlaying;
        if (isPlaying) {
          playIcon.innerText = "pause";
          startTimer();
        } else {
          playIcon.innerText = "play_arrow";
          stopTimer();
        }
      });

      function startTimer() {
        timerInterval = setInterval(() => {
          seconds++;
          progress += 0.1; // simulated progress speed
          if (progress >= 100) progress = 0;

          progressBar.style.width = `${progress}%`;

          // Format time
          const m = Math.floor(seconds / 60)
            .toString()
            .padStart(2, "0");
          const s = (seconds % 60).toString().padStart(2, "0");
          currentTimeEl.innerText = `${m}:${s}`;
        }, 1000);
      }

      function stopTimer() {
        clearInterval(timerInterval);
      }

      // --- 4. Code Copy Logic ---
      function copyCode(btn) {
        const code = `import numpy as np\nimport matplotlib.pyplot as plt\n\ndef simulate_dune_scatter(resolution=1024):\n    x = np.linspace(0, 100, resolution)\n    noise = np.sin(x) * np.random.normal(0, 0.2, resolution)\n    reflection = 1 / (1 + np.exp(-noise))\n    return reflection`;

        navigator.clipboard.writeText(code).then(() => {
          const originalText = btn.querySelector("span:last-child").innerText;
          btn.querySelector("span:last-child").innerText = "COPIED!";
          setTimeout(() => {
            btn.querySelector("span:last-child").innerText = originalText;
          }, 2000);
        });
      }
    </script>
  </body>
</html>
